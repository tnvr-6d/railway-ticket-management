--
-- PostgreSQL database dump
--

-- Dumped from database version 17.5
-- Dumped by pg_dump version 17.5

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: admin; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.admin (
    admin_id integer NOT NULL,
    username character varying(50) NOT NULL,
    password_hash character varying(255) NOT NULL,
    email character varying(100) NOT NULL,
    role character varying(20) NOT NULL,
    is_active boolean DEFAULT true NOT NULL,
    last_login timestamp without time zone,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.admin OWNER TO postgres;

--
-- Name: admin_admin_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.admin ALTER COLUMN admin_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.admin_admin_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: booking; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.booking (
    booking_id integer NOT NULL,
    passenger_id integer NOT NULL,
    booking_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    payment_id integer NOT NULL,
    cancellation_reason text
);


ALTER TABLE public.booking OWNER TO postgres;

--
-- Name: booking_booking_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.booking ALTER COLUMN booking_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.booking_booking_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: class; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.class (
    class_id integer NOT NULL,
    class_type character varying(50) NOT NULL
);


ALTER TABLE public.class OWNER TO postgres;

--
-- Name: class_class_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.class ALTER COLUMN class_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.class_class_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: coach; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.coach (
    coach_id integer NOT NULL,
    coach_number character varying(50) NOT NULL
);


ALTER TABLE public.coach OWNER TO postgres;

--
-- Name: coach_coach_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.coach ALTER COLUMN coach_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.coach_coach_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: discount; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.discount (
    discount_id integer NOT NULL,
    code character varying(50),
    discount_percentage numeric(5,2),
    booking_id integer,
    passenger_id integer,
    used_at timestamp without time zone
);


ALTER TABLE public.discount OWNER TO postgres;

--
-- Name: discount_discount_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.discount ALTER COLUMN discount_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.discount_discount_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: discount_info; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.discount_info (
    discount_id integer NOT NULL,
    processed_by integer NOT NULL,
    is_active boolean DEFAULT true,
    start_date date NOT NULL,
    end_date date NOT NULL
);


ALTER TABLE public.discount_info OWNER TO postgres;

--
-- Name: fare; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.fare (
    fare_id integer NOT NULL,
    coach_number character varying(50) NOT NULL,
    class_type character varying(50) NOT NULL,
    per_km_fare numeric(10,2) NOT NULL
);


ALTER TABLE public.fare OWNER TO postgres;

--
-- Name: fare_fare_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.fare ALTER COLUMN fare_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.fare_fare_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: feedback; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.feedback (
    feedback_id integer NOT NULL,
    passenger_id integer NOT NULL,
    ticket_id integer NOT NULL,
    subject character varying(100) NOT NULL,
    message text NOT NULL,
    status character varying(20) DEFAULT 'Pending'::character varying,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.feedback OWNER TO postgres;

--
-- Name: feedback_feedback_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.feedback ALTER COLUMN feedback_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.feedback_feedback_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: login_history; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.login_history (
    login_id integer NOT NULL,
    passenger_id integer NOT NULL,
    login_time timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    ip_address character varying(45) NOT NULL,
    device_info character varying(255),
    is_success boolean NOT NULL
);


ALTER TABLE public.login_history OWNER TO postgres;

--
-- Name: login_history_login_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.login_history ALTER COLUMN login_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.login_history_login_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: notification; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.notification (
    notification_id integer NOT NULL,
    status character varying(20) DEFAULT 'Unread'::character varying,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.notification OWNER TO postgres;

--
-- Name: notification_info; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.notification_info (
    passenger_id integer NOT NULL,
    notification_id integer NOT NULL,
    message text NOT NULL,
    type character varying(50) NOT NULL
);


ALTER TABLE public.notification_info OWNER TO postgres;

--
-- Name: notification_notification_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.notification ALTER COLUMN notification_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.notification_notification_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: passenger; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.passenger (
    passenger_id integer NOT NULL,
    name character varying(100) NOT NULL,
    email character varying(100) NOT NULL,
    phone_number character varying(20) NOT NULL,
    address character varying(255),
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    password_hash character varying(255)
);


ALTER TABLE public.passenger OWNER TO postgres;

--
-- Name: passenger_passenger_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.passenger ALTER COLUMN passenger_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.passenger_passenger_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: payment; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.payment (
    payment_id integer NOT NULL,
    amount numeric(10,2) NOT NULL,
    payment_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    transaction_id character varying(100),
    payment_status character varying(20) DEFAULT 'Completed'::character varying NOT NULL
);


ALTER TABLE public.payment OWNER TO postgres;

--
-- Name: payment_payment_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.payment ALTER COLUMN payment_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.payment_payment_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: route; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.route (
    route_id integer NOT NULL,
    source_station_id integer NOT NULL,
    destination_station_id integer NOT NULL,
    distance numeric(10,2) NOT NULL,
    duration integer NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.route OWNER TO postgres;

--
-- Name: route_route_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.route ALTER COLUMN route_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.route_route_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: route_station; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.route_station (
    route_station_id integer NOT NULL,
    route_id integer NOT NULL,
    station_id integer NOT NULL,
    arrival_time time without time zone,
    departure_time time without time zone
);


ALTER TABLE public.route_station OWNER TO postgres;

--
-- Name: route_station_route_station_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.route_station ALTER COLUMN route_station_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.route_station_route_station_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: schedule; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.schedule (
    schedule_id integer NOT NULL,
    train_id integer NOT NULL,
    route_id integer NOT NULL,
    departure_time time without time zone NOT NULL,
    arrival_time time without time zone NOT NULL,
    departure_date date NOT NULL,
    status character varying(20) DEFAULT 'On Time'::character varying NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.schedule OWNER TO postgres;

--
-- Name: schedule_schedule_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.schedule ALTER COLUMN schedule_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.schedule_schedule_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: seat_inventory; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.seat_inventory (
    inventory_id integer NOT NULL,
    schedule_id integer NOT NULL,
    seat_number character varying(10) NOT NULL,
    coach_number character varying(50) NOT NULL,
    class_type character varying(50) NOT NULL,
    is_available boolean DEFAULT true NOT NULL,
    row_number integer NOT NULL,
    column_number integer NOT NULL
);


ALTER TABLE public.seat_inventory OWNER TO postgres;

--
-- Name: seat_inventory_inventory_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.seat_inventory ALTER COLUMN inventory_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.seat_inventory_inventory_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: station; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.station (
    station_id integer NOT NULL,
    station_name character varying(100) NOT NULL,
    location character varying(255) NOT NULL,
    contact_info character varying(255),
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.station OWNER TO postgres;

--
-- Name: station_station_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.station ALTER COLUMN station_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.station_station_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: ticket; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.ticket (
    ticket_id integer NOT NULL,
    fare_id integer NOT NULL,
    passenger_id integer NOT NULL,
    schedule_id integer NOT NULL,
    booking_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    seat_number character varying(10) NOT NULL,
    price numeric(10,2) NOT NULL,
    status character varying(20) DEFAULT 'Booked'::character varying NOT NULL,
    payment_id integer NOT NULL
);


ALTER TABLE public.ticket OWNER TO postgres;

--
-- Name: ticket_booking; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.ticket_booking (
    ticket_id integer NOT NULL,
    booking_id integer NOT NULL
);


ALTER TABLE public.ticket_booking OWNER TO postgres;

--
-- Name: ticket_cancellation; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.ticket_cancellation (
    cancellation_id integer NOT NULL,
    ticket_id integer NOT NULL,
    cancellation_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    refund_amount numeric(10,2),
    reason text,
    processed_by integer NOT NULL,
    status character varying(20) DEFAULT 'Pending'::character varying NOT NULL
);


ALTER TABLE public.ticket_cancellation OWNER TO postgres;

--
-- Name: ticket_cancellation_cancellation_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.ticket_cancellation ALTER COLUMN cancellation_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.ticket_cancellation_cancellation_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: ticket_ticket_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.ticket ALTER COLUMN ticket_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.ticket_ticket_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: train; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.train (
    train_id integer NOT NULL,
    train_name character varying(100) NOT NULL,
    coach_number character varying(50) NOT NULL,
    class_type character varying(50),
    total_seats integer NOT NULL,
    description text,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.train OWNER TO postgres;

--
-- Name: train_train_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.train ALTER COLUMN train_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.train_train_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: admin; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.admin (admin_id, username, password_hash, email, role, is_active, last_login, created_at) FROM stdin;
1	admin	admin_hash_123	admin@railway.gov.bd	Super Admin	t	\N	2025-06-23 11:42:14.348511
2	station_manager	manager_hash_456	manager@railway.gov.bd	Station Manager	t	\N	2025-06-23 11:42:14.348511
3	booking_clerk	clerk_hash_789	clerk@railway.gov.bd	Booking Clerk	t	\N	2025-06-23 11:42:14.348511
\.


--
-- Data for Name: booking; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.booking (booking_id, passenger_id, booking_date, payment_id, cancellation_reason) FROM stdin;
1	61	2025-06-23 11:42:14.348511	1	\N
2	62	2025-06-23 11:42:14.348511	2	\N
3	63	2025-06-23 11:42:14.348511	3	\N
4	64	2025-06-23 11:42:14.348511	4	\N
5	65	2025-06-23 11:42:14.348511	5	\N
6	62	2025-06-23 13:11:47.787254	10	\N
9	62	2025-06-23 13:13:26.012814	13	\N
10	61	2025-06-23 14:04:25.543494	14	\N
\.


--
-- Data for Name: class; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.class (class_id, class_type) FROM stdin;
49	Shovan
50	S_Chair
51	F_Chair
52	F_Berth
53	S_Berth
54	AC_Chair
55	AC_Berth
56	Snigdha
\.


--
-- Data for Name: coach; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.coach (coach_id, coach_number) FROM stdin;
49	S_CHAIR
50	F_CHAIR
51	F_BERTH
52	S_BERTH
53	SHOVAN
54	AC_CHAIR
55	AC_BERTH
56	SNIGDHA
\.


--
-- Data for Name: discount; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.discount (discount_id, code, discount_percentage, booking_id, passenger_id, used_at) FROM stdin;
1	STUDENT10	10.00	1	61	\N
2	SENIOR15	15.00	2	62	\N
3	NEWUSER5	5.00	3	63	\N
\.


--
-- Data for Name: discount_info; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.discount_info (discount_id, processed_by, is_active, start_date, end_date) FROM stdin;
1	1	t	2025-01-01	2025-12-31
2	1	t	2025-01-01	2025-12-31
3	2	t	2025-06-01	2025-06-30
\.


--
-- Data for Name: fare; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.fare (fare_id, coach_number, class_type, per_km_fare) FROM stdin;
1	SHOVAN	Shovan	0.50
2	S_CHAIR	S_Chair	0.75
3	F_CHAIR	F_Chair	1.00
4	S_BERTH	S_Berth	1.25
5	F_BERTH	F_Berth	1.50
6	SNIGDHA	Snigdha	1.75
7	AC_CHAIR	AC_Chair	2.00
8	AC_BERTH	AC_Berth	2.50
\.


--
-- Data for Name: feedback; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.feedback (feedback_id, passenger_id, ticket_id, subject, message, status, created_at) FROM stdin;
1	61	1	Excellent Service	The AC coach was very comfortable and staff was helpful. Thank you!	Reviewed	2025-06-23 11:42:14.348511
2	62	2	Delay Issue	Train was delayed by 30 minutes without proper announcement.	Pending	2025-06-23 11:42:14.348511
3	63	3	Clean Toilets	Toilets were clean and well-maintained throughout the journey.	Reviewed	2025-06-23 11:42:14.348511
\.


--
-- Data for Name: login_history; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.login_history (login_id, passenger_id, login_time, ip_address, device_info, is_success) FROM stdin;
1	61	2025-06-23 11:42:14.348511	192.168.1.100	Mozilla/5.0 Chrome/91.0	f
2	61	2025-06-23 11:42:14.348511	192.168.1.100	Mozilla/5.0 Chrome/91.0	t
3	62	2025-06-23 11:42:14.348511	192.168.1.101	Mozilla/5.0 Firefox/89.0	t
4	63	2025-06-23 11:42:14.348511	192.168.1.102	Mozilla/5.0 Safari/14.0	t
\.


--
-- Data for Name: notification; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.notification (notification_id, status, created_at) FROM stdin;
1	Read	2025-06-23 11:42:14.348511
2	Unread	2025-06-23 11:42:14.348511
3	Read	2025-06-23 11:42:14.348511
\.


--
-- Data for Name: notification_info; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.notification_info (passenger_id, notification_id, message, type) FROM stdin;
61	1	Your ticket for Suborno Express has been confirmed. Train departs at 07:00 AM from Dhaka Kamalapur.	BOOKING_CONFIRMATION
62	2	Your train Turna Nishitha is running 15 minutes late. New departure time: 15:45.	DELAY_ALERT
63	3	Thank you for choosing Bangladesh Railway. Rate your travel experience.	FEEDBACK_REQUEST
\.


--
-- Data for Name: passenger; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.passenger (passenger_id, name, email, phone_number, address, created_at, password_hash) FROM stdin;
64	Nasir Uddin	nasir@gmail.com	+880161234570	House 25, Agrabad, Chittagong	2025-06-23 11:42:14.348511	\N
65	Rashida Begum	rashida@gmail.com	+880151234571	Kazir Dewri, Chittagong	2025-06-23 11:42:14.348511	\N
66	Mohammad Ali	ali@yahoo.com	+880141234572	Station Road, Sylhet	2025-06-23 11:42:14.348511	\N
67	Salma Akter	salma@gmail.com	+880131234573	Zindabazar, Sylhet	2025-06-23 11:42:14.348511	\N
68	Habibur Rahman	habib@hotmail.com	+880121234574	Court Para, Kushtia	2025-06-23 11:42:14.348511	\N
69	Amina Khatun	amina@gmail.com	+880111234575	Shaheb Bazar, Rajshahi	2025-06-23 11:42:14.348511	\N
70	Mizanur Rahman	mizan@yahoo.com	+880101234576	New Market Area, Rangpur	2025-06-23 11:42:14.348511	\N
61	Md. Rahman Ahmed	rahman@gmail.com	+880171234567	House 12, Road 5, Dhanmondi, Dhaka	2025-06-23 11:42:14.348511	hash123
62	Fatima Khatun	fatima@yahoo.com	+880181234568	Flat B-3, Uttara Sector 7, Dhaka	2025-06-23 11:42:14.348511	password456
63	Abdul Karim	karim@hotmail.com	+880191234569	Village Goalpar, Comilla	2025-06-23 11:42:14.348511	secure789
\.


--
-- Data for Name: payment; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.payment (payment_id, amount, payment_date, transaction_id, payment_status) FROM stdin;
1	640.00	2025-06-23 11:42:14.348511	TXN001	Completed
3	491.50	2025-06-23 11:42:14.348511	TXN003	Completed
4	192.19	2025-06-23 11:42:14.348511	TXN004	Completed
5	90.34	2025-06-23 11:42:14.348511	TXN005	Completed
10	641.00	2025-06-23 13:11:47.787254	TXN-1750662707793-62	Completed
2	320.00	2025-06-23 11:42:14.348511	TXN002	Refunded
13	320.50	2025-06-23 13:13:26.012814	TXN-1750662806014-62	Completed
14	641.00	2025-06-23 14:04:25.543494	TXN-1750665865552-61	Completed
\.


--
-- Data for Name: route; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.route (route_id, source_station_id, destination_station_id, distance, duration, created_at) FROM stdin;
31	73	74	320.50	420	2025-06-23 11:42:14.348511
32	73	75	245.75	300	2025-06-23 11:42:14.348511
33	73	76	256.25	360	2025-06-23 11:42:14.348511
34	73	77	460.80	540	2025-06-23 11:42:14.348511
35	73	78	194.30	240	2025-06-23 11:42:14.348511
36	73	79	120.45	150	2025-06-23 11:42:14.348511
37	74	75	180.20	240	2025-06-23 11:42:14.348511
38	76	77	204.60	180	2025-06-23 11:42:14.348511
39	73	80	125.75	165	2025-06-23 11:42:14.348511
40	73	81	165.90	195	2025-06-23 11:42:14.348511
\.


--
-- Data for Name: route_station; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.route_station (route_station_id, route_id, station_id, arrival_time, departure_time) FROM stdin;
1	31	80	09:15:00	09:20:00
2	32	79	01:30:00	01:35:00
3	33	78	09:45:00	09:50:00
\.


--
-- Data for Name: schedule; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.schedule (schedule_id, train_id, route_id, departure_time, arrival_time, departure_date, status, created_at) FROM stdin;
1	49	31	07:00:00	14:00:00	2025-06-24	On Time	2025-06-23 11:42:14.348511
2	50	31	15:30:00	22:30:00	2025-06-24	On Time	2025-06-23 11:42:14.348511
3	51	32	22:30:00	05:30:00	2025-06-25	On Time	2025-06-23 11:42:14.348511
4	52	33	06:45:00	12:45:00	2025-06-24	On Time	2025-06-23 11:42:14.348511
5	53	34	21:00:00	06:00:00	2025-06-25	On Time	2025-06-23 11:42:14.348511
6	54	35	23:15:00	03:15:00	2025-06-25	On Time	2025-06-23 11:42:14.348511
7	55	31	08:30:00	15:30:00	2025-06-24	On Time	2025-06-23 11:42:14.348511
8	56	36	16:20:00	18:50:00	2025-06-24	On Time	2025-06-23 11:42:14.348511
\.


--
-- Data for Name: seat_inventory; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.seat_inventory (inventory_id, schedule_id, seat_number, coach_number, class_type, is_available, row_number, column_number) FROM stdin;
3	1	B1	AC_CHAIR	AC_Chair	t	1	3
4	1	B2	AC_CHAIR	AC_Chair	t	1	4
5	1	A3	AC_CHAIR	AC_Chair	t	2	1
6	1	A4	AC_CHAIR	AC_Chair	f	2	2
7	1	B3	AC_CHAIR	AC_Chair	t	2	3
8	1	B4	AC_CHAIR	AC_Chair	t	2	4
9	1	A5	AC_CHAIR	AC_Chair	t	3	1
10	1	A6	AC_CHAIR	AC_Chair	t	3	2
11	1	B5	AC_CHAIR	AC_Chair	f	3	3
12	1	B6	AC_CHAIR	AC_Chair	t	3	4
13	1	A7	AC_CHAIR	AC_Chair	t	4	1
14	1	A8	AC_CHAIR	AC_Chair	t	4	2
15	1	B7	AC_CHAIR	AC_Chair	t	4	3
16	1	B8	AC_CHAIR	AC_Chair	t	4	4
17	2	F1	F_CHAIR	F_Chair	t	1	1
18	2	F2	F_CHAIR	F_Chair	t	1	2
21	2	F5	F_CHAIR	F_Chair	t	2	1
22	2	F6	F_CHAIR	F_Chair	t	2	2
23	2	F7	F_CHAIR	F_Chair	t	2	3
24	2	F8	F_CHAIR	F_Chair	t	2	4
25	2	F9	F_CHAIR	F_Chair	t	3	1
26	2	F10	F_CHAIR	F_Chair	f	3	2
27	2	F11	F_CHAIR	F_Chair	t	3	3
28	2	F12	F_CHAIR	F_Chair	t	3	4
1	1	A1	AC_CHAIR	AC_Chair	f	1	1
19	2	F3	F_CHAIR	F_Chair	t	1	3
20	2	F4	F_CHAIR	F_Chair	f	1	4
2	1	A2	AC_CHAIR	AC_Chair	f	1	2
\.


--
-- Data for Name: station; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.station (station_id, station_name, location, contact_info, created_at) FROM stdin;
73	Dhaka Kamalapur	Kamalapur, Dhaka	+880-2-8315915	2025-06-23 11:42:14.348511
74	Chittagong Railway Station	Railway Colony, Chittagong	+880-31-610012	2025-06-23 11:42:14.348511
75	Sylhet Railway Station	Railway Colony, Sylhet	+880-821-710345	2025-06-23 11:42:14.348511
76	Rajshahi Railway Station	Court Station, Rajshahi	+880-721-772889	2025-06-23 11:42:14.348511
77	Rangpur Railway Station	Station Road, Rangpur	+880-521-63456	2025-06-23 11:42:14.348511
78	Kushtia Railway Station	Station Road, Kushtia	+880-71-61234	2025-06-23 11:42:14.348511
79	Mymensingh Railway Station	Town Hall Road, Mymensingh	+880-91-55678	2025-06-23 11:42:14.348511
80	Comilla Cantonment	Cantonment, Comilla	+880-81-76543	2025-06-23 11:42:14.348511
81	Jessore Railway Station	Station Road, Jessore	+880-421-68901	2025-06-23 11:42:14.348511
82	Bogura Railway Station	Station Para, Bogura	+880-51-67890	2025-06-23 11:42:14.348511
83	Dinajpur Railway Station	Station Road, Dinajpur	+880-531-61234	2025-06-23 11:42:14.348511
84	Parbatipur Junction	Parbatipur, Dinajpur	+880-531-56789	2025-06-23 11:42:14.348511
\.


--
-- Data for Name: ticket; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.ticket (ticket_id, fare_id, passenger_id, schedule_id, booking_date, seat_number, price, status, payment_id) FROM stdin;
1	7	61	1	2025-06-23 11:42:14.348511	A4	640.00	Booked	1
2	7	63	1	2025-06-23 11:42:14.348511	B5	640.00	Booked	3
4	3	64	2	2025-06-23 11:42:14.348511	F10	320.00	Booked	4
5	7	62	1	2025-06-23 13:11:47.787254	A1	641.00	Booked	10
3	3	62	2	2025-06-23 11:42:14.348511	F3	320.00	Cancelled	2
8	3	62	2	2025-06-23 13:13:26.012814	F4	320.50	Booked	13
9	7	61	1	2025-06-23 14:04:25.543494	A2	641.00	Booked	14
\.


--
-- Data for Name: ticket_booking; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.ticket_booking (ticket_id, booking_id) FROM stdin;
1	1
2	2
3	3
4	4
5	6
8	9
9	10
\.


--
-- Data for Name: ticket_cancellation; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.ticket_cancellation (cancellation_id, ticket_id, cancellation_date, refund_amount, reason, processed_by, status) FROM stdin;
1	3	2025-06-23 13:12:33.497172	256.00	nothing	1	Processed
\.


--
-- Data for Name: train; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.train (train_id, train_name, coach_number, class_type, total_seats, description, created_at) FROM stdin;
49	Suborno Express	AC_CHAIR	AC_Chair	76	Premium AC service between Dhaka and Chittagong	2025-06-23 11:42:14.348511
50	Turna Nishitha	F_CHAIR	F_Chair	85	Fast intercity service Dhaka-Chittagong	2025-06-23 11:42:14.348511
51	Parabat Express	S_CHAIR	S_Chair	90	Express service Dhaka-Sylhet	2025-06-23 11:42:14.348511
52	Silk City Express	SHOVAN	Shovan	110	Economy service Dhaka-Rajshahi	2025-06-23 11:42:14.348511
53	Rangpur Express	F_BERTH	F_Berth	64	Overnight service Dhaka-Rangpur	2025-06-23 11:42:14.348511
54	Kushtia Express	S_BERTH	S_Berth	72	Mail train Dhaka-Kushtia	2025-06-23 11:42:14.348511
55	Chittagong Mail	SNIGDHA	Snigdha	80	Comfortable service Dhaka-Chittagong	2025-06-23 11:42:14.348511
56	Mymensingh Express	S_CHAIR	S_Chair	88	Regional express Dhaka-Mymensingh	2025-06-23 11:42:14.348511
\.


--
-- Name: admin_admin_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.admin_admin_id_seq', 3, true);


--
-- Name: booking_booking_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.booking_booking_id_seq', 10, true);


--
-- Name: class_class_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.class_class_id_seq', 56, true);


--
-- Name: coach_coach_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.coach_coach_id_seq', 56, true);


--
-- Name: discount_discount_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.discount_discount_id_seq', 3, true);


--
-- Name: fare_fare_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.fare_fare_id_seq', 8, true);


--
-- Name: feedback_feedback_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.feedback_feedback_id_seq', 3, true);


--
-- Name: login_history_login_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.login_history_login_id_seq', 4, true);


--
-- Name: notification_notification_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.notification_notification_id_seq', 3, true);


--
-- Name: passenger_passenger_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.passenger_passenger_id_seq', 70, true);


--
-- Name: payment_payment_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.payment_payment_id_seq', 14, true);


--
-- Name: route_route_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.route_route_id_seq', 40, true);


--
-- Name: route_station_route_station_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.route_station_route_station_id_seq', 3, true);


--
-- Name: schedule_schedule_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.schedule_schedule_id_seq', 8, true);


--
-- Name: seat_inventory_inventory_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.seat_inventory_inventory_id_seq', 28, true);


--
-- Name: station_station_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.station_station_id_seq', 84, true);


--
-- Name: ticket_cancellation_cancellation_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.ticket_cancellation_cancellation_id_seq', 1, true);


--
-- Name: ticket_ticket_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.ticket_ticket_id_seq', 9, true);


--
-- Name: train_train_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.train_train_id_seq', 56, true);


--
-- Name: admin admin_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.admin
    ADD CONSTRAINT admin_email_key UNIQUE (email);


--
-- Name: admin admin_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.admin
    ADD CONSTRAINT admin_pkey PRIMARY KEY (admin_id);


--
-- Name: admin admin_username_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.admin
    ADD CONSTRAINT admin_username_key UNIQUE (username);


--
-- Name: booking booking_payment_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.booking
    ADD CONSTRAINT booking_payment_id_key UNIQUE (payment_id);


--
-- Name: booking booking_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.booking
    ADD CONSTRAINT booking_pkey PRIMARY KEY (booking_id);


--
-- Name: class class_class_type_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.class
    ADD CONSTRAINT class_class_type_key UNIQUE (class_type);


--
-- Name: class class_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.class
    ADD CONSTRAINT class_pkey PRIMARY KEY (class_id);


--
-- Name: coach coach_coach_number_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.coach
    ADD CONSTRAINT coach_coach_number_key UNIQUE (coach_number);


--
-- Name: coach coach_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.coach
    ADD CONSTRAINT coach_pkey PRIMARY KEY (coach_id);


--
-- Name: discount discount_code_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.discount
    ADD CONSTRAINT discount_code_key UNIQUE (code);


--
-- Name: discount_info discount_info_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.discount_info
    ADD CONSTRAINT discount_info_pkey PRIMARY KEY (discount_id, processed_by);


--
-- Name: discount discount_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.discount
    ADD CONSTRAINT discount_pkey PRIMARY KEY (discount_id);


--
-- Name: fare fare_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.fare
    ADD CONSTRAINT fare_pkey PRIMARY KEY (fare_id);


--
-- Name: feedback feedback_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.feedback
    ADD CONSTRAINT feedback_pkey PRIMARY KEY (feedback_id);


--
-- Name: login_history login_history_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.login_history
    ADD CONSTRAINT login_history_pkey PRIMARY KEY (login_id);


--
-- Name: notification_info notification_info_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notification_info
    ADD CONSTRAINT notification_info_pkey PRIMARY KEY (passenger_id, notification_id);


--
-- Name: notification notification_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notification
    ADD CONSTRAINT notification_pkey PRIMARY KEY (notification_id);


--
-- Name: passenger passenger_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.passenger
    ADD CONSTRAINT passenger_email_key UNIQUE (email);


--
-- Name: passenger passenger_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.passenger
    ADD CONSTRAINT passenger_pkey PRIMARY KEY (passenger_id);


--
-- Name: payment payment_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.payment
    ADD CONSTRAINT payment_pkey PRIMARY KEY (payment_id);


--
-- Name: payment payment_transaction_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.payment
    ADD CONSTRAINT payment_transaction_id_key UNIQUE (transaction_id);


--
-- Name: route route_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.route
    ADD CONSTRAINT route_pkey PRIMARY KEY (route_id);


--
-- Name: route_station route_station_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.route_station
    ADD CONSTRAINT route_station_pkey PRIMARY KEY (route_station_id);


--
-- Name: schedule schedule_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.schedule
    ADD CONSTRAINT schedule_pkey PRIMARY KEY (schedule_id);


--
-- Name: seat_inventory seat_inventory_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.seat_inventory
    ADD CONSTRAINT seat_inventory_pkey PRIMARY KEY (inventory_id);


--
-- Name: station station_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.station
    ADD CONSTRAINT station_pkey PRIMARY KEY (station_id);


--
-- Name: station station_station_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.station
    ADD CONSTRAINT station_station_name_key UNIQUE (station_name);


--
-- Name: ticket_booking ticket_booking_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ticket_booking
    ADD CONSTRAINT ticket_booking_pkey PRIMARY KEY (ticket_id, booking_id);


--
-- Name: ticket_cancellation ticket_cancellation_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ticket_cancellation
    ADD CONSTRAINT ticket_cancellation_pkey PRIMARY KEY (cancellation_id);


--
-- Name: ticket ticket_payment_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ticket
    ADD CONSTRAINT ticket_payment_id_key UNIQUE (payment_id);


--
-- Name: ticket ticket_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ticket
    ADD CONSTRAINT ticket_pkey PRIMARY KEY (ticket_id);


--
-- Name: train train_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.train
    ADD CONSTRAINT train_pkey PRIMARY KEY (train_id);


--
-- Name: route_source_station_id_destination_station_id_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX route_source_station_id_destination_station_id_idx ON public.route USING btree (source_station_id, destination_station_id);


--
-- Name: route_station_route_id_station_id_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX route_station_route_id_station_id_idx ON public.route_station USING btree (route_id, station_id);


--
-- Name: schedule_train_id_route_id_departure_date_departure_time_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX schedule_train_id_route_id_departure_date_departure_time_idx ON public.schedule USING btree (train_id, route_id, departure_date, departure_time);


--
-- Name: seat_inventory_schedule_id_seat_number_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX seat_inventory_schedule_id_seat_number_idx ON public.seat_inventory USING btree (schedule_id, seat_number);


--
-- Name: ticket_schedule_id_seat_number_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX ticket_schedule_id_seat_number_idx ON public.ticket USING btree (schedule_id, seat_number);


--
-- Name: booking booking_passenger_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.booking
    ADD CONSTRAINT booking_passenger_id_fkey FOREIGN KEY (passenger_id) REFERENCES public.passenger(passenger_id);


--
-- Name: booking booking_payment_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.booking
    ADD CONSTRAINT booking_payment_id_fkey FOREIGN KEY (payment_id) REFERENCES public.payment(payment_id);


--
-- Name: discount discount_booking_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.discount
    ADD CONSTRAINT discount_booking_id_fkey FOREIGN KEY (booking_id) REFERENCES public.booking(booking_id);


--
-- Name: discount_info discount_info_discount_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.discount_info
    ADD CONSTRAINT discount_info_discount_id_fkey FOREIGN KEY (discount_id) REFERENCES public.discount(discount_id);


--
-- Name: discount_info discount_info_processed_by_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.discount_info
    ADD CONSTRAINT discount_info_processed_by_fkey FOREIGN KEY (processed_by) REFERENCES public.admin(admin_id);


--
-- Name: discount discount_passenger_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.discount
    ADD CONSTRAINT discount_passenger_id_fkey FOREIGN KEY (passenger_id) REFERENCES public.passenger(passenger_id);


--
-- Name: fare fare_class_type_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.fare
    ADD CONSTRAINT fare_class_type_fkey FOREIGN KEY (class_type) REFERENCES public.class(class_type);


--
-- Name: fare fare_coach_number_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.fare
    ADD CONSTRAINT fare_coach_number_fkey FOREIGN KEY (coach_number) REFERENCES public.coach(coach_number);


--
-- Name: feedback feedback_passenger_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.feedback
    ADD CONSTRAINT feedback_passenger_id_fkey FOREIGN KEY (passenger_id) REFERENCES public.passenger(passenger_id);


--
-- Name: feedback feedback_ticket_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.feedback
    ADD CONSTRAINT feedback_ticket_id_fkey FOREIGN KEY (ticket_id) REFERENCES public.ticket(ticket_id);


--
-- Name: login_history login_history_passenger_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.login_history
    ADD CONSTRAINT login_history_passenger_id_fkey FOREIGN KEY (passenger_id) REFERENCES public.passenger(passenger_id);


--
-- Name: notification_info notification_info_notification_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notification_info
    ADD CONSTRAINT notification_info_notification_id_fkey FOREIGN KEY (notification_id) REFERENCES public.notification(notification_id);


--
-- Name: notification_info notification_info_passenger_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notification_info
    ADD CONSTRAINT notification_info_passenger_id_fkey FOREIGN KEY (passenger_id) REFERENCES public.passenger(passenger_id);


--
-- Name: route route_destination_station_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.route
    ADD CONSTRAINT route_destination_station_id_fkey FOREIGN KEY (destination_station_id) REFERENCES public.station(station_id);


--
-- Name: route route_source_station_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.route
    ADD CONSTRAINT route_source_station_id_fkey FOREIGN KEY (source_station_id) REFERENCES public.station(station_id);


--
-- Name: route_station route_station_route_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.route_station
    ADD CONSTRAINT route_station_route_id_fkey FOREIGN KEY (route_id) REFERENCES public.route(route_id);


--
-- Name: route_station route_station_station_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.route_station
    ADD CONSTRAINT route_station_station_id_fkey FOREIGN KEY (station_id) REFERENCES public.station(station_id);


--
-- Name: schedule schedule_route_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.schedule
    ADD CONSTRAINT schedule_route_id_fkey FOREIGN KEY (route_id) REFERENCES public.route(route_id);


--
-- Name: schedule schedule_train_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.schedule
    ADD CONSTRAINT schedule_train_id_fkey FOREIGN KEY (train_id) REFERENCES public.train(train_id);


--
-- Name: seat_inventory seat_inventory_class_type_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.seat_inventory
    ADD CONSTRAINT seat_inventory_class_type_fkey FOREIGN KEY (class_type) REFERENCES public.class(class_type);


--
-- Name: seat_inventory seat_inventory_coach_number_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.seat_inventory
    ADD CONSTRAINT seat_inventory_coach_number_fkey FOREIGN KEY (coach_number) REFERENCES public.coach(coach_number);


--
-- Name: seat_inventory seat_inventory_schedule_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.seat_inventory
    ADD CONSTRAINT seat_inventory_schedule_id_fkey FOREIGN KEY (schedule_id) REFERENCES public.schedule(schedule_id);


--
-- Name: ticket_booking ticket_booking_booking_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ticket_booking
    ADD CONSTRAINT ticket_booking_booking_id_fkey FOREIGN KEY (booking_id) REFERENCES public.booking(booking_id);


--
-- Name: ticket_booking ticket_booking_ticket_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ticket_booking
    ADD CONSTRAINT ticket_booking_ticket_id_fkey FOREIGN KEY (ticket_id) REFERENCES public.ticket(ticket_id);


--
-- Name: ticket_cancellation ticket_cancellation_processed_by_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ticket_cancellation
    ADD CONSTRAINT ticket_cancellation_processed_by_fkey FOREIGN KEY (processed_by) REFERENCES public.admin(admin_id);


--
-- Name: ticket_cancellation ticket_cancellation_ticket_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ticket_cancellation
    ADD CONSTRAINT ticket_cancellation_ticket_id_fkey FOREIGN KEY (ticket_id) REFERENCES public.ticket(ticket_id);


--
-- Name: ticket ticket_fare_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ticket
    ADD CONSTRAINT ticket_fare_id_fkey FOREIGN KEY (fare_id) REFERENCES public.fare(fare_id);


--
-- Name: ticket ticket_passenger_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ticket
    ADD CONSTRAINT ticket_passenger_id_fkey FOREIGN KEY (passenger_id) REFERENCES public.passenger(passenger_id);


--
-- Name: ticket ticket_payment_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ticket
    ADD CONSTRAINT ticket_payment_id_fkey FOREIGN KEY (payment_id) REFERENCES public.payment(payment_id);


--
-- Name: ticket ticket_schedule_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ticket
    ADD CONSTRAINT ticket_schedule_id_fkey FOREIGN KEY (schedule_id) REFERENCES public.schedule(schedule_id);


--
-- Name: ticket ticket_schedule_id_seat_number_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ticket
    ADD CONSTRAINT ticket_schedule_id_seat_number_fkey FOREIGN KEY (schedule_id, seat_number) REFERENCES public.seat_inventory(schedule_id, seat_number);


--
-- PostgreSQL database dump complete
--

